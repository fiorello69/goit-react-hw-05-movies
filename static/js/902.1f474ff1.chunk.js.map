{"version":3,"file":"static/js/902.1f474ff1.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/common/ErrorAlert/ErrorAlert.module.css?5ee0","components/common/ErrorAlert/ErrorAlert.jsx","webpack://react-homework-template/./src/components/common/Loader/Loader.module.css?8b04","components/common/Loader/Loader.jsx","webpack://react-homework-template/./src/components/common/MoviesList/MoviesList.module.css?a16e","components/common/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/pages/Movies/components/SearcBar/Searchbar.module.css?74eb","pages/Movies/components/SearcBar/SearchBar.jsx","pages/Movies/MoviesPage.jsx","service/moviesService.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"Error\":\"ErrorAlert_Error__rwsaJ\"};","import PropTypes from 'prop-types';\nimport styles from './ErrorAlert.module.css';\n\nconst ErrorAlert = ({ error }) => {\n  return <p className={styles.Error}>{error}</p>;\n};\n\nErrorAlert.propTypes = {\n  error: PropTypes.string.isRequired,\n};\n\nexport default ErrorAlert;\n","// extracted by mini-css-extract-plugin\nexport default {\"loader\":\"Loader_loader__WEzse\"};","import { ThreeDots } from 'react-loader-spinner';\nimport styles from './Loader.module.css';\n\nconst Loader = () => {\n  return (\n    <ThreeDots\n      visible={true}\n      height=\"80\"\n      width=\"80\"\n      color=\"#4fa94d\"\n      radius=\"9\"\n      ariaLabel=\"three-dots-loading\"\n      wrapperClass={styles.loader}\n    />\n  );\n};\n\nexport default Loader;\n","// extracted by mini-css-extract-plugin\nexport default {\"trendingList\":\"MoviesList_trendingList__DDWPu\",\"movieItem\":\"MoviesList_movieItem__etzOn\"};","import { Link, useLocation } from 'react-router-dom';\nimport React from 'react';\nimport { ImFilm } from 'react-icons/im';\nimport styles from './MoviesList.module.css';\nimport PropTypes from 'prop-types';\n\nconst MoviesList = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <ul className={styles.trendingList}>\n      {movies.map(item => (\n        <li key={item.id} className={styles.movieItem}>\n          <ImFilm className={styles.icon} />\n          <Link to={`/movies/${item.id}`} state={{ from: location }}>\n            {item.title || item.name}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nMoviesList.propTypes = {\n  movies: PropTypes.array.isRequired,\n};\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nexport default {\"Searchbar\":\"Searchbar_Searchbar__cmesC\",\"SearchForm\":\"Searchbar_SearchForm__6JWsb\",\"SearchForm-button\":\"Searchbar_SearchForm-button__EAMc5\",\"SearchForm-button-label\":\"Searchbar_SearchForm-button-label__zV43H\",\"SearchForm-input\":\"Searchbar_SearchForm-input__JsZM+\"};","import { BsSearch } from 'react-icons/bs';\nimport PropTypes from 'prop-types';\nimport styles from './Searchbar.module.css';\n\nconst SearchBar = ({ onFormSubmit }) => {\n  const handleSubmit = event => {\n    event.preventDefault();\n    const form = event.target;\n    const searchedTerm = form.search.value.trim();\n\n    if (!searchedTerm) {\n      alert('Please, write something !');\n      return;\n    }\n\n    onFormSubmit(searchedTerm);\n    form.reset();\n  };\n\n  return (\n    <div className={styles.Searchbar}>\n      <form className={styles.SearchForm} onSubmit={handleSubmit}>\n        <input\n          className={styles['SearchForm-input']}\n          type=\"text\"\n          name=\"search\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n        />\n        <button type=\"submit\" className={styles['SearchForm-button']}>\n          <BsSearch />\n        </button>\n      </form>\n    </div>\n  );\n};\n\nSearchBar.propTypes = {\n  onFormSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchBar;\n","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport moviesService from 'service/moviesService';\nimport SearchBar from './components/SearcBar/SearchBar';\nimport MoviesList from 'components/common/MoviesList/MoviesList';\nimport ErrorAlert from 'components/common/ErrorAlert/ErrorAlert';\nimport Loader from 'components/common/Loader/Loader';\n\nconst MoviesPage = () => {\n  const [searchedMovies, setSearchedMovies] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    const getMovies = async () => {\n      try {\n        setIsLoading(true);\n        const data = await moviesService.getSearchedMovies(query);\n\n        if (data.results.length === 0) {\n          setError(`We are sorry. There is no movie for your searched term`);\n        }\n\n        setSearchedMovies(data.results);\n      } catch (error) {\n        setError(error.response.data.status_message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    query && getMovies();\n  }, [query]);\n\n  const onFormSubmit = searchedTerm => {\n    setSearchParams({ query: searchedTerm });\n    setSearchedMovies(null);\n    setError(null);\n  };\n\n  return (\n    <>\n      <section className=\"container\">\n        <SearchBar onFormSubmit={onFormSubmit} />\n\n        {searchedMovies && <MoviesList movies={searchedMovies} />}\n        {error && <ErrorAlert error={error} />}\n        {isLoading && <Loader />}\n      </section>\n    </>\n  );\n};\nexport default MoviesPage;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst API_KEY = '051a3d8a53317eb2948f5da4b81e4296';\n\nconst getTrending = async () => {\n  const ENDPOINT = '/trending/movie/day';\n  const response = await axios.get(`${ENDPOINT}?api_key=${API_KEY}`);\n  return response.data;\n};\n\nconst getSearchedMovies = async searchedQuery => {\n  const ENDPOINT = `/search/movie?query=${searchedQuery}`;\n  const response = await axios.get(`${ENDPOINT}&api_key=${API_KEY}`);\n  return response.data;\n};\n\nconst getMovieDetails = async movieId => {\n  const ENDPOINT = `/movie/${movieId}`;\n  const response = await axios.get(`${ENDPOINT}?api_key=${API_KEY}`);\n  return response.data;\n};\n\nconst getMovieCredits = async movieId => {\n  const ENDPOINT = `/movie/${movieId}/credits`;\n  const response = await axios.get(`${ENDPOINT}?api_key=${API_KEY}`);\n  return response.data;\n};\n\nconst getMovieReviews = async movieId => {\n  const ENDPOINT = `/movie/${movieId}/reviews`;\n  const response = await axios.get(`${ENDPOINT}?api_key=${API_KEY}`);\n  return response.data;\n};\n\nconst moviesService = {\n  getTrending,\n  getSearchedMovies,\n  getMovieDetails,\n  getMovieCredits,\n  getMovieReviews,\n};\n\nexport default moviesService;\n"],"names":["_ref","error","_jsx","className","styles","children","Loader","ThreeDots","visible","height","width","color","radius","ariaLabel","wrapperClass","movies","location","useLocation","trendingList","map","item","_jsxs","movieItem","ImFilm","icon","Link","to","concat","id","state","from","title","name","onFormSubmit","onSubmit","event","preventDefault","form","target","searchedTerm","search","value","trim","reset","alert","type","autoComplete","autoFocus","placeholder","BsSearch","MoviesPage","searchedMovies","setSearchedMovies","useState","isLoading","setIsLoading","setError","searchParams","setSearchParams","useSearchParams","query","get","useEffect","async","data","moviesService","getSearchedMovies","results","length","response","status_message","getMovies","_Fragment","SearchBar","MoviesList","ErrorAlert","axios","defaults","baseURL","API_KEY","getTrending","ENDPOINT","searchedQuery","getMovieDetails","movieId","getMovieCredits","getMovieReviews"],"sourceRoot":""}